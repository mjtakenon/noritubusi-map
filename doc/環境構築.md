# 環境構築

## Requirements

- Docker

## Setup

```bash
$ docker-compose up -d
```

## 動作確認

### mysql

#### 路線データの流し込み ( `N02-17.xml` )

```bash
# シード用 SQL ファイルの生成
$ cd resouces/N02-17_GML
$ ./N02-17_parse.py N02-17.xml
# シードファイル を コンテナ立ち上げ時に流し込むため、initdb.d ディレクトリに移動
$ cp N02-17_seeds.sql ../../config/mysql/initdb.d/2_seeds.sql
# 既存イメージ, Volume の削除
# 過去に docker-compose で環境構築を行っていない場合、不要？
$ docker-compose down --rmi all --volumes --remove-orphans
# コンテナ立ち上げ
$ docker-compose up -d
# CLI 上からデータ流し込みの確認
# root パスワードは docker-compose.yml を確認
docker-compose exec mysql mysql -u root -p
Enter password: ...

mysql> USE noritubusi_map;
mysql> SELECT `id`, `station_name`, X(center_latlong) AS `lat`, Y(center_latlong) AS `long`, `operation_company`, `service_provider_type`, `railway_line_name`, `railway_type` FROM stations';
```

### app (Flask)

ブラウザで `http://localhost:5050` にアクセスして、 **Hello, Flask** と表示されるか確認する
